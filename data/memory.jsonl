{"type":"entity","name":"COBOL-SpringBoot-Traduccion","entityType":"ProcesoTraduccion","observations":["===== PROCESO GENERAL DE TRADUCCIÓN COBOL → SPRING BOOT =====","La traducción se hace por BLOQUES LÓGICOS: cada DIVISION de COBOL se mapea a un componente Spring Boot","Orden de traducción: 1) IDENTIFICATION → clase Java, 2) DATA → DTOs/Entities, 3) PROCEDURE → Service/Controller","Convención: cada programa COBOL genera un microservicio o módulo Spring Boot independiente",">> NAVEGACIÓN: contiene_bloque → [BLOQUE-IDENTIFICATION-DIVISION, BLOQUE-DATA-DIVISION, BLOQUE-PROCEDURE-DIVISION, BLOQUE-ENVIRONMENT-DIVISION] | aplica_dominio → SEPARADOR-PATRONES-BANCARIOS | genera_estructura → SEPARADOR-ESTRUCTURA-SPRINGBOOT | usa_reglas → SEPARADOR-REGLAS-CONVERSION | valida_con → SEPARADOR-VALIDACIONES"]}
{"type":"entity","name":"BLOQUE-IDENTIFICATION-DIVISION","entityType":"BloqueTraduccion","observations":["========== BLOQUE 1: IDENTIFICATION DIVISION → Clase Java ==========","PROGRAM-ID se convierte en nombre de la clase @SpringBootApplication o @Service","AUTHOR se convierte en @author en el Javadoc de la clase","Patrón de nombrado: kebab-case COBOL → PascalCase Java (BANCO-INGRESOS → BancoIngresos)",">> NAVEGACIÓN: se_traduce_antes_de → BLOQUE-DATA-DIVISION","Ejemplo genérico: PROGRAM-ID. MI-PROGRAMA → class MiProgramaApplication / MiProgramaService"]}
{"type":"entity","name":"BLOQUE-DATA-DIVISION","entityType":"BloqueTraduccion","observations":["========== BLOQUE 2: DATA DIVISION → DTOs, Entities y Configuración ==========","WORKING-STORAGE SECTION → Campos de clase Java (atributos privados con getters/setters)","PIC X(n) → String con @Size(max=n) / @Column(length=n)","PIC 9(n)V99 → BigDecimal con @Column(precision=n+2, scale=2)","PIC S9(n)V99 → BigDecimal (el signo S indica que puede ser negativo)","PIC 9(n) → Integer o Long según tamaño","01 nivel → Clase DTO o @Entity separada","05/10 niveles → Campos dentro del DTO/Entity padre","OCCURS n TIMES → List<T> con @OneToMany o campo List en DTO","VALUE cláusula → Valor por defecto en constructor o @Builder.Default",">> NAVEGACIÓN: se_traduce_antes_de → BLOQUE-PROCEDURE-DIVISION | usa_reglas_de → SEPARADOR-REGLAS-CONVERSION"]}
{"type":"entity","name":"BLOQUE-PROCEDURE-DIVISION","entityType":"BloqueTraduccion","observations":["========== BLOQUE 3: PROCEDURE DIVISION → Services y Controllers ==========","Párrafo principal (0000-) → Método principal del @Service o flujo del @RestController","PERFORM párrafo → Llamada a método privado del service","DISPLAY → Logger.info() o ResponseEntity con datos para el frontend","ACCEPT → @RequestBody o @RequestParam en el Controller","PERFORM UNTIL → while loop o Stream con filter","PERFORM VARYING → for loop o IntStream.range()","IF/ELSE → Misma estructura condicional en Java","COMPUTE → Operación aritmética con BigDecimal (usar .add(), .subtract(), .multiply())","ADD X TO Y → y = y.add(x) con BigDecimal","MOVE X TO Y → y = x (asignación simple) o setter","STOP RUN → return del método o fin del endpoint",">> NAVEGACIÓN: implementa → SEPARADOR-PATRONES-BANCARIOS"]}
{"type":"entity","name":"BLOQUE-ENVIRONMENT-DIVISION","entityType":"BloqueTraduccion","observations":["========== BLOQUE 4: ENVIRONMENT DIVISION → application.properties/yml ==========","FILE-CONTROL → spring.datasource.* en application.properties","SELECT...ASSIGN → Configuración de conexión a BD","CONFIGURATION SECTION → @Configuration class en Spring Boot","REPOSITORY → Dependencias en pom.xml o build.gradle",">> NAVEGACIÓN: configura → SEPARADOR-ESTRUCTURA-SPRINGBOOT"]}
{"type":"entity","name":"SEPARADOR-PATRONES-BANCARIOS","entityType":"PatronDominio","observations":["===== PATRONES ESPECÍFICOS DEL DOMINIO BANCARIO =====","Cuenta bancaria (WS-NUMERO-CUENTA, WS-TITULAR) → @Entity CuentaBancaria con @Id","Operaciones monetarias siempre con BigDecimal, NUNCA double/float","Validaciones de saldo → @Service con lógica de negocio + excepciones custom (SaldoInsuficienteException)","Transferencias → @Transactional obligatorio para garantizar atomicidad","Comisiones → Lógica separada en ComisionService con @Value para porcentajes configurables","Extracto de movimientos → @Entity Movimiento con @ManyToOne a CuentaBancaria",">> NAVEGACIÓN: requiere_validacion → SEPARADOR-VALIDACIONES"]}
{"type":"entity","name":"SEPARADOR-ESTRUCTURA-SPRINGBOOT","entityType":"EstructuraProyecto","observations":["===== ESTRUCTURA DE PROYECTO SPRING BOOT RESULTANTE =====","src/main/java/com/banco/ → Paquete raíz","  /controller/ → @RestController (un controller por programa COBOL)","  /service/ → @Service (lógica de negocio, un service por programa COBOL)","  /model/ → @Entity (mapeo de DATA DIVISION nivel 01)","  /dto/ → DTOs de request/response (mapeo de estructuras COBOL de I/O)","  /repository/ → @Repository JPA (acceso a datos)","  /exception/ → Excepciones custom del dominio","  /config/ → @Configuration (mapeo de ENVIRONMENT DIVISION)",">> NAVEGACIÓN: nodo terminal (sin salidas) - Usar esta estructura para crear los paquetes del proyecto"]}
{"type":"entity","name":"SEPARADOR-REGLAS-CONVERSION","entityType":"ReglasConversion","observations":["===== REGLAS DE CONVERSIÓN DE TIPOS COBOL → JAVA =====","PIC X(n) → String | PIC 9(n) → Integer/Long | PIC 9(n)V99 → BigDecimal","PIC S9(n)V99 → BigDecimal | OCCURS n TIMES → List<T> | 88 level → enum o boolean","REDEFINES → Herencia o @JsonTypeInfo para polimorfismo","COPY → import de clase compartida o @Component común","FILE SECTION → @Entity + @Repository con Spring Data JPA",">> NAVEGACIÓN: nodo terminal (sin salidas) - Consultar para convertir cada tipo PIC a Java"]}
{"type":"entity","name":"SEPARADOR-VALIDACIONES","entityType":"ReglasValidacion","observations":["===== VALIDACIONES COBOL → BEAN VALIDATION (JSR-380) =====","IF campo = SPACES → @NotBlank en el DTO","IF campo > 0 → @Positive o @Min(1) en el DTO","IF campo NUMERIC → No necesario (Java es tipado estático)","Validación de IBAN → @Pattern con regex en el DTO","STRING INSPECT → Validaciones custom con @Constraint personalizado",">> NAVEGACIÓN: nodo terminal (sin salidas) - Aplicar al final para añadir validaciones Bean Validation"]}
{"type":"relation","from":"COBOL-SpringBoot-Traduccion","to":"BLOQUE-IDENTIFICATION-DIVISION","relationType":"contiene_bloque"}
{"type":"relation","from":"COBOL-SpringBoot-Traduccion","to":"BLOQUE-DATA-DIVISION","relationType":"contiene_bloque"}
{"type":"relation","from":"COBOL-SpringBoot-Traduccion","to":"BLOQUE-PROCEDURE-DIVISION","relationType":"contiene_bloque"}
{"type":"relation","from":"COBOL-SpringBoot-Traduccion","to":"BLOQUE-ENVIRONMENT-DIVISION","relationType":"contiene_bloque"}
{"type":"relation","from":"COBOL-SpringBoot-Traduccion","to":"SEPARADOR-PATRONES-BANCARIOS","relationType":"aplica_dominio"}
{"type":"relation","from":"COBOL-SpringBoot-Traduccion","to":"SEPARADOR-ESTRUCTURA-SPRINGBOOT","relationType":"genera_estructura"}
{"type":"relation","from":"COBOL-SpringBoot-Traduccion","to":"SEPARADOR-REGLAS-CONVERSION","relationType":"usa_reglas"}
{"type":"relation","from":"COBOL-SpringBoot-Traduccion","to":"SEPARADOR-VALIDACIONES","relationType":"valida_con"}
{"type":"relation","from":"BLOQUE-IDENTIFICATION-DIVISION","to":"BLOQUE-DATA-DIVISION","relationType":"se_traduce_antes_de"}
{"type":"relation","from":"BLOQUE-DATA-DIVISION","to":"BLOQUE-PROCEDURE-DIVISION","relationType":"se_traduce_antes_de"}
{"type":"relation","from":"BLOQUE-ENVIRONMENT-DIVISION","to":"SEPARADOR-ESTRUCTURA-SPRINGBOOT","relationType":"configura"}
{"type":"relation","from":"BLOQUE-DATA-DIVISION","to":"SEPARADOR-REGLAS-CONVERSION","relationType":"usa_reglas_de"}
{"type":"relation","from":"BLOQUE-PROCEDURE-DIVISION","to":"SEPARADOR-PATRONES-BANCARIOS","relationType":"implementa"}
{"type":"relation","from":"SEPARADOR-PATRONES-BANCARIOS","to":"SEPARADOR-VALIDACIONES","relationType":"requiere_validacion"}